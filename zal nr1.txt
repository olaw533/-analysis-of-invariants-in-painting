clc;
close all;
clear all;

for k = 1:1
  jpgFilename = sprintf('%d.jpg', k);
  fullFileName = fullfile('van Gogh', jpgFilename);
  if exist(fullFileName, 'file')
    imdata = imread(fullFileName );
  else
    warningMessage = sprintf('Warning: image file does not exist:\n%s', fullFileName);
    uiwait(warndlg(warningMessage));
  end
imdata = rgb2gray(imdata);
  
% Transformata Falkowa
% Obliczanie detali i aproksymacji 

% transformata
poziom=3; %maksymalny poziom dekompozycji
falka='haar'; %rodzaj falki
[C,L] = wavedec2(imdata,poziom,falka); %dyskretna transformata falkowa
a3=wrcoef2('a',C,L,falka,poziom); %aproksymacja na poziomie 3
d3=wrcoef2('d',C,L,falka,poziom); %detale na poziomie 3
a2=wrcoef2('a',C,L,falka,poziom - 1); %aproksymacja na poziomie 2
d2=wrcoef2('d',C,L,falka,poziom - 1); %detale na poziomie 2
%...
% analogicznie można obliczać detale i aproksymacje na kolejnych poziomach (nizszych)
%...
% wizualizacja
figure()
subplot(3,1,1),imshow(imdata),title('Obraz')
subplot(3,2,3),plot(a3),ylabel('a3'),title('Aproksymacje')
subplot(3,2,4),plot(d3),ylabel('d3'),title('Detale')
subplot(3,2,5),plot(a2),ylabel('a2')
subplot(3,2,6),plot(d2),ylabel('d2')
  
  
end